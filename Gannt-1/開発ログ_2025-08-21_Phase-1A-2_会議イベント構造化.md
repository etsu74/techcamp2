# **é–‹ç™ºãƒ­ã‚°: Phase-1A-2 ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆæ§‹é€ åŒ–è¡¨ç¤ºå®Ÿè£…**

## **é–‹ç™ºæ®µéšæƒ…å ±**
- **æ®µéš**: Phase-1A-2ï¼ˆä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ä¾å­˜é–¢ä¿‚æ©Ÿèƒ½ï¼‰
- **å®Ÿè£…æ—¥**: 2025-08-21
- **å„ªå…ˆæ©Ÿèƒ½**: ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆæ§‹é€ åŒ–è¡¨ç¤ºï¼ˆæœ€é‡è¦ã‚­ãƒ¼æ©Ÿèƒ½ï¼‰
- **é–‹ç™ºè€…**: Claude Code + ãƒ¦ãƒ¼ã‚¶ãƒ¼
- **Git ãƒ–ãƒ©ãƒ³ãƒ**: `feature/phase1a-meeting-structure`

---

## **ğŸ¯ å®Ÿè£…ç›®æ¨™ãƒ»é‡è¦æ€§**

### **ã“ã®æ©Ÿèƒ½ãŒé–‹ç™ºå…¨ä½“ã®ã‚­ãƒ¼ã§ã‚ã‚‹ç†ç”±**
1. **ãƒãƒ³ã‚·ãƒ§ãƒ³ç®¡ç†ã®æ ¸å¿ƒæ©Ÿèƒ½**: 
   - ç·ä¼šãƒ»ç†äº‹ä¼šãƒ»ä¿®ç¹•å§”å“¡ä¼šã®3å±¤çµ„ç¹”æ§‹é€ ã¯ãƒãƒ³ã‚·ãƒ§ãƒ³é‹å–¶ã®æ ¹å¹¹
   - æ„æ€æ±ºå®šãƒ—ãƒ­ã‚»ã‚¹ã®å¯è¦–åŒ–ãŒæœ¬ã‚¢ãƒ—ãƒªã®æœ€å¤§ä¾¡å€¤

2. **æŠ€è¡“çš„åŸºç›¤æ©Ÿèƒ½**:
   - éšå±¤ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã®æŠ€è¡“å®Ÿè£…ãŒå¾Œç¶šæ©Ÿèƒ½ï¼ˆç·¨é›†ãƒ»ãƒ¬ãƒãƒ¼ãƒˆç­‰ï¼‰ã®åŸºç¤
   - è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ å‡¦ç†ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºç«‹

3. **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š**:
   - ä¼šè­°ä½“ç³»ã®ç†è§£ä¿ƒé€² â†’ ä¿®ç¹•è¨ˆç”»ã®æ„æ€æ±ºå®šæ”¯æ´
   - æ¨©é™ãƒ»å ±å‘Šé–¢ä¿‚ã®æ˜ç¢ºåŒ– â†’ æ¥­å‹™åŠ¹ç‡å‘ä¸Š

### **å®Ÿè£…ç›®æ¨™**
- âœ… **çµ„ç¹”éšå±¤è¡¨ç¤º**: 3ãƒ¬ãƒ™ãƒ«ï¼ˆç·ä¼šãƒ»ç†äº‹ä¼šãƒ»ä¿®ç¹•å§”å“¡ä¼šï¼‰ã®è¦–è¦šçš„åŒºåˆ†
- âœ… **è‰²åˆ†ã‘è¡¨ç¤º**: ãƒ¬ãƒ™ãƒ«åˆ¥è‰²åˆ†ã‘ï¼ˆæ·±ç´…ãƒ»ã‚ªãƒ¬ãƒ³ã‚¸ãƒ»ç·‘ï¼‰
- âœ… **æ¨©é™å¯è¦–åŒ–**: æ±ºå®šæ¨©é™ï¼ˆfinal/executive/advisoryï¼‰ã®è¡¨ç¤º
- âœ… **æ§‹é€ åŒ–UI**: å·¦ãƒ‘ãƒãƒ«éšå±¤è¡¨ç¤º + ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆçµ±åˆè¡¨ç¤º

---

## **ğŸ“Š ãƒ‡ãƒ¼ã‚¿æ§‹é€ åˆ†æ**

### **æ—¢å­˜ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆ`meeting_events_mock.csv`ï¼‰**
```csv
organization_level,organization_type,decision_authority,report_to,timeline_color
1,general_meeting,final,,#8B0000        # ç·ä¼š: æœ€çµ‚æ±ºå®šæ¨©
2,board_meeting,executive,GM1,#FF8C00     # ç†äº‹ä¼š: åŸ·è¡Œæ¨©  
3,repair_committee,advisory,BM1,#32CD32   # ä¿®ç¹•å§”å“¡ä¼š: è«®å•æ¨©
```

### **çµ„ç¹”éšå±¤æ§‹é€ **
```
Level 1: ç·ä¼šï¼ˆGeneral Meetingï¼‰
â”œâ”€ æ¨©é™: finalï¼ˆæœ€çµ‚æ±ºå®šï¼‰
â”œâ”€ è‰²: #8B0000ï¼ˆæ·±ç´…ï¼‰
â”œâ”€ é »åº¦: annualï¼ˆå¹´1-2å›ï¼‰
â””â”€ æ±ºå®šäº‹é …: äºˆç®—æ‰¿èªã€å¤§è¦æ¨¡ä¿®ç¹•æ±ºå®šã€ç†äº‹é¸ä»»

Level 2: ç†äº‹ä¼šï¼ˆBoard Meetingï¼‰  
â”œâ”€ æ¨©é™: executiveï¼ˆåŸ·è¡Œï¼‰
â”œâ”€ è‰²: #FF8C00ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸ï¼‰
â”œâ”€ é »åº¦: monthlyï¼ˆæœˆ1å›ï¼‰
â”œâ”€ å ±å‘Šå…ˆ: ç·ä¼š
â””â”€ æ±ºå®šäº‹é …: é‹å–¶æ–¹é‡ã€ä¸­è¦æ¨¡ä¿®ç¹•ã€å§”å“¡ä¼šç›£ç£

Level 3: ä¿®ç¹•å§”å“¡ä¼šï¼ˆRepair Committeeï¼‰
â”œâ”€ æ¨©é™: advisoryï¼ˆè«®å•ï¼‰  
â”œâ”€ è‰²: #32CD32ï¼ˆç·‘ï¼‰
â”œâ”€ é »åº¦: monthly + adhoc
â”œâ”€ å ±å‘Šå…ˆ: ç†äº‹ä¼š
â””â”€ æ±ºå®šäº‹é …: å·¥äº‹è©³ç´°ã€æ¥­è€…é¸å®šæ¨è–¦
```

---

## **ğŸ› ï¸ æ®µéšåˆ¥å®Ÿè£…æ‰‹é †**

### **Phase 1: CSSéšå±¤è¡¨ç¤ºã‚¹ã‚¿ã‚¤ãƒ«å®Ÿè£…**

#### **ãƒ•ã‚¡ã‚¤ãƒ«**: `css/gantt.css`
```css
/* ====================================================
   ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆæ§‹é€ åŒ–è¡¨ç¤ºã‚¹ã‚¿ã‚¤ãƒ« - Phase-1A-2å®Ÿè£…
   ==================================================== */

/* çµ„ç¹”éšå±¤åˆ¥ãƒãƒ¼ã‚¹ã‚¿ã‚¤ãƒ« */
.gantt .bar.level-1 {
    fill: #8B0000 !important;    /* ç·ä¼š: æ·±ç´… */
    stroke: #660000;
    stroke-width: 2px;
    opacity: 0.9;
    filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
}

.gantt .bar.level-2 {
    fill: #FF8C00 !important;    /* ç†äº‹ä¼š: ã‚ªãƒ¬ãƒ³ã‚¸ */
    stroke: #CC6600;
    stroke-width: 2px;
    opacity: 0.85;
    filter: drop-shadow(1px 1px 3px rgba(0,0,0,0.2));
}

.gantt .bar.level-3 {
    fill: #32CD32 !important;    /* ä¿®ç¹•å§”å“¡ä¼š: ç·‘ */
    stroke: #228B22;
    stroke-width: 2px;
    opacity: 0.8;
    filter: drop-shadow(1px 1px 2px rgba(0,0,0,0.1));
}

/* çµ„ç¹”ãƒ¬ãƒ™ãƒ«åˆ¥ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º */
.gantt .bar.level-1::before {
    content: "ğŸ“‹";
    position: absolute;
    left: -20px;
    font-size: 14px;
}

.gantt .bar.level-2::before {
    content: "ğŸ‘¥";
    position: absolute;
    left: -20px;
    font-size: 14px;
}

.gantt .bar.level-3::before {
    content: "ğŸ”§";
    position: absolute;
    left: -20px;
    font-size: 14px;
}

/* æ¨©é™åˆ¥å¢ƒç•Œç·šã‚¹ã‚¿ã‚¤ãƒ« */
.gantt .bar[data-authority="final"] {
    border: 3px solid #8B0000;
    border-radius: 6px;
}

.gantt .bar[data-authority="executive"] {
    border: 2px solid #FF8C00;
    border-radius: 4px;
}

.gantt .bar[data-authority="advisory"] {
    border: 1px dashed #32CD32;
    border-radius: 3px;
}
```

#### **å·¦ãƒ‘ãƒãƒ«éšå±¤è¡¨ç¤ºCSS**
```css
/* å·¦ãƒ‘ãƒãƒ«çµ„ç¹”éšå±¤è¡¨ç¤º */
.organization-group {
    border-left: 4px solid;
    margin: 8px 0;
    padding: 10px 15px;
    border-radius: 6px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.organization-group.level-1 {
    border-color: #8B0000;
    background: linear-gradient(90deg, rgba(139, 0, 0, 0.1), rgba(139, 0, 0, 0.05));
}

.organization-group.level-2 {
    border-color: #FF8C00;
    background: linear-gradient(90deg, rgba(255, 140, 0, 0.1), rgba(255, 140, 0, 0.05));
    margin-left: 15px;
}

.organization-group.level-3 {
    border-color: #32CD32;
    background: linear-gradient(90deg, rgba(50, 205, 50, 0.1), rgba(50, 205, 50, 0.05));
    margin-left: 30px;
}

.group-header {
    font-weight: bold;
    font-size: 14px;
    margin-bottom: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.group-header .authority-badge {
    background: rgba(0,0,0,0.1);
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: normal;
}

.event-item.meeting-item {
    padding: 6px 10px;
    margin: 4px 0;
    border-radius: 4px;
    background: rgba(255,255,255,0.7);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.event-authority {
    font-size: 10px;
    background: rgba(0,0,0,0.2);
    padding: 1px 6px;
    border-radius: 8px;
    color: #666;
}
```

### **Phase 2: JavaScriptéšå±¤å‡¦ç†æ©Ÿèƒ½å®Ÿè£…**

#### **ãƒ•ã‚¡ã‚¤ãƒ«**: `js/gantt-manager.js` - æ©Ÿèƒ½è¿½åŠ 
```javascript
/**
 * ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆæ§‹é€ åŒ–è¡¨ç¤ºå‡¦ç†ï¼ˆPhase-1A-2 ã‚­ãƒ¼æ©Ÿèƒ½ï¼‰
 * @param {Array} meetingData ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿é…åˆ—
 * @returns {Object} çµ„ç¹”ãƒ¬ãƒ™ãƒ«åˆ¥ã«æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿
 */
structureMeetingEvents: function(meetingData) {
    console.log('Phase-1A-2: ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆæ§‹é€ åŒ–å‡¦ç†é–‹å§‹');
    
    // çµ„ç¹”ãƒ¬ãƒ™ãƒ«åˆ¥ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
    const structuredData = {
        level1: [], // ç·ä¼šï¼ˆGeneral Meetingï¼‰
        level2: [], // ç†äº‹ä¼šï¼ˆBoard Meetingï¼‰
        level3: []  // ä¿®ç¹•å§”å“¡ä¼šï¼ˆRepair Committeeï¼‰
    };
    
    meetingData.forEach(meeting => {
        const level = parseInt(meeting.organization_level || 2);
        const levelKey = `level${level}`;
        
        if (structuredData[levelKey]) {
            structuredData[levelKey].push(this.formatMeetingForHierarchy(meeting));
        } else {
            console.warn(`æœªçŸ¥ã®çµ„ç¹”ãƒ¬ãƒ™ãƒ«: ${level}`, meeting);
        }
    });
    
    // å„ãƒ¬ãƒ™ãƒ«ã®çµ±è¨ˆæƒ…å ±å‡ºåŠ›
    Object.keys(structuredData).forEach(levelKey => {
        const count = structuredData[levelKey].length;
        console.log(`${levelKey}: ${count}ä»¶ã®ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆ`);
    });
    
    return structuredData;
},

/**
 * éšå±¤è¡¨ç¤ºç”¨ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
 * @param {Object} meeting ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆç”Ÿãƒ‡ãƒ¼ã‚¿
 * @returns {Object} éšå±¤è¡¨ç¤ºå¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
 */
formatMeetingForHierarchy: function(meeting) {
    const level = parseInt(meeting.organization_level || 2);
    const authorityMap = {
        'final': 'æœ€çµ‚æ±ºå®š',
        'executive': 'åŸ·è¡Œæ¨©',
        'advisory': 'è«®å•æ¨©'
    };
    
    return {
        ...this.formatMeetingEvent(meeting),
        organization_level: level,
        decision_authority: meeting.decision_authority,
        decision_authority_jp: authorityMap[meeting.decision_authority] || 'ä¸æ˜',
        report_to: meeting.report_to,
        custom_class: `meeting level-${level}`,
        hierarchy_info: {
            level: level,
            authority: meeting.decision_authority,
            parent: meeting.report_to,
            color: meeting.timeline_color || this.getDefaultColor(level)
        }
    };
},

/**
 * çµ„ç¹”ãƒ¬ãƒ™ãƒ«åˆ¥ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²å–å¾—
 */
getDefaultColor: function(level) {
    const colorMap = {
        1: '#8B0000',  // ç·ä¼š: æ·±ç´…
        2: '#FF8C00',  // ç†äº‹ä¼š: ã‚ªãƒ¬ãƒ³ã‚¸
        3: '#32CD32'   // ä¿®ç¹•å§”å“¡ä¼š: ç·‘
    };
    return colorMap[level] || '#666666';
},

/**
 * éšå±¤é–¢ä¿‚å¯è¦–åŒ–ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
 */
generateHierarchyConnections: function(structuredData) {
    const connections = [];
    
    // Level 1 â†’ Level 2 é–¢ä¿‚
    structuredData.level1.forEach(meeting1 => {
        structuredData.level2.forEach(meeting2 => {
            if (meeting2.report_to === meeting1.id) {
                connections.push({
                    from: meeting1.id,
                    to: meeting2.id,
                    type: 'hierarchy',
                    relationship: 'reports_to'
                });
            }
        });
    });
    
    // Level 2 â†’ Level 3 é–¢ä¿‚  
    structuredData.level2.forEach(meeting2 => {
        structuredData.level3.forEach(meeting3 => {
            if (meeting3.report_to === meeting2.id) {
                connections.push({
                    from: meeting2.id,
                    to: meeting3.id,
                    type: 'hierarchy',
                    relationship: 'reports_to'
                });
            }
        });
    });
    
    console.log(`éšå±¤é–¢ä¿‚: ${connections.length}ä»¶ã®é–¢ä¿‚æ€§ã‚’æ¤œå‡º`);
    return connections;
}
```

### **Phase 3: å·¦ãƒ‘ãƒãƒ«éšå±¤è¡¨ç¤ºæ©Ÿèƒ½å®Ÿè£…**

#### **ãƒ•ã‚¡ã‚¤ãƒ«**: `js/main.js` - é–¢æ•°è¿½åŠ 
```javascript
/**
 * å·¦ãƒ‘ãƒãƒ«éšå±¤è¡¨ç¤ºæ›´æ–°ï¼ˆPhase-1A-2 ã‚­ãƒ¼æ©Ÿèƒ½ï¼‰
 * @param {Object} structuredMeetings æ§‹é€ åŒ–æ¸ˆã¿ä¼šè­°ãƒ‡ãƒ¼ã‚¿
 * @param {Array} workTasks å·¥äº‹ã‚¿ã‚¹ã‚¯ãƒ‡ãƒ¼ã‚¿
 */
function updateLeftPanelWithHierarchy(structuredMeetings, workTasks) {
    console.log('Phase-1A-2: å·¦ãƒ‘ãƒãƒ«éšå±¤è¡¨ç¤ºæ›´æ–°é–‹å§‹');
    
    const eventList = document.getElementById('event-list');
    eventList.innerHTML = '';
    
    // éšå±¤é †åºã§è¡¨ç¤ºï¼ˆä¸Šä½ã‹ã‚‰ä¸‹ä½ã¸ï¼‰
    const hierarchyOrder = [
        { key: 'level1', name: 'ç·ä¼šï¼ˆæœ€é«˜æ„æ€æ±ºå®šæ©Ÿé–¢ï¼‰', icon: 'ğŸ“‹', authority: 'æœ€çµ‚æ±ºå®šæ¨©' },
        { key: 'level2', name: 'ç†äº‹ä¼šï¼ˆæœˆæ¬¡é‹å–¶æ©Ÿé–¢ï¼‰', icon: 'ğŸ‘¥', authority: 'åŸ·è¡Œæ¨©' },
        { key: 'level3', name: 'ä¿®ç¹•å§”å“¡ä¼šï¼ˆå®Ÿè¡Œæ©Ÿé–¢ï¼‰', icon: 'ğŸ”§', authority: 'è«®å•æ¨©' }
    ];
    
    hierarchyOrder.forEach(levelInfo => {
        const meetings = structuredMeetings[levelInfo.key];
        if (meetings && meetings.length > 0) {
            const groupElement = createHierarchyGroup(levelInfo, meetings);
            eventList.appendChild(groupElement);
        }
    });
    
    // å·¥äº‹ã‚¤ãƒ™ãƒ³ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã‚’è¿½åŠ 
    if (workTasks && workTasks.length > 0) {
        const workGroup = createWorkTasksGroup(workTasks);
        eventList.appendChild(workGroup);
    }
    
    console.log('å·¦ãƒ‘ãƒãƒ«éšå±¤è¡¨ç¤ºæ›´æ–°å®Œäº†');
}

/**
 * éšå±¤ã‚°ãƒ«ãƒ¼ãƒ—è¦ç´ ä½œæˆ
 * @param {Object} levelInfo ãƒ¬ãƒ™ãƒ«æƒ…å ±
 * @param {Array} meetings ä¼šè­°ãƒ‡ãƒ¼ã‚¿é…åˆ—
 * @returns {HTMLElement} ã‚°ãƒ«ãƒ¼ãƒ—è¦ç´ 
 */
function createHierarchyGroup(levelInfo, meetings) {
    const level = levelInfo.key.replace('level', '');
    
    const groupDiv = document.createElement('div');
    groupDiv.className = `organization-group level-${level}`;
    groupDiv.setAttribute('data-level', level);
    
    // ã‚°ãƒ«ãƒ¼ãƒ—ãƒ˜ãƒƒãƒ€ãƒ¼ä½œæˆ
    const header = document.createElement('div');
    header.className = 'group-header';
    header.innerHTML = `
        <div>
            <span class="org-icon">${levelInfo.icon}</span>
            <strong>${levelInfo.name}</strong>
            <span class="meeting-count">(${meetings.length}ä»¶)</span>
        </div>
        <span class="authority-badge">${levelInfo.authority}</span>
    `;
    groupDiv.appendChild(header);
    
    // ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ä½œæˆ
    meetings.forEach((meeting, index) => {
        const eventItem = document.createElement('div');
        eventItem.className = `event-item meeting-item level-${level}`;
        eventItem.setAttribute('data-meeting-id', meeting.id);
        eventItem.innerHTML = `
            <div class="event-main">
                <span class="event-name">${meeting.name}</span>
                <span class="event-date">${meeting.start}</span>
            </div>
            <div class="event-meta">
                <span class="event-authority">[${meeting.decision_authority_jp}]</span>
                <span class="event-frequency">${meeting.frequency}</span>
            </div>
        `;
        
        // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆè¿½åŠ 
        eventItem.addEventListener('click', () => highlightMeetingInGantt(meeting.id));
        
        groupDiv.appendChild(eventItem);
    });
    
    return groupDiv;
}

/**
 * å·¥äº‹ã‚¿ã‚¹ã‚¯ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆ
 */
function createWorkTasksGroup(workTasks) {
    const groupDiv = document.createElement('div');
    groupDiv.className = 'organization-group work-tasks';
    groupDiv.innerHTML = `
        <div class="group-header">
            <div>
                <span class="org-icon">ğŸ—ï¸</span>
                <strong>ä¿®ç¹•å·¥äº‹ã‚¿ã‚¹ã‚¯</strong>
                <span class="meeting-count">(${workTasks.length}ä»¶)</span>
            </div>
        </div>
    `;
    
    workTasks.forEach(task => {
        const eventItem = document.createElement('div');
        eventItem.className = 'event-item work-item';
        eventItem.innerHTML = `
            <span class="event-name">${task.name}</span>
            <span class="event-progress">${task.progress}%</span>
        `;
        groupDiv.appendChild(eventItem);
    });
    
    return groupDiv;
}

/**
 * ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆå†…ã®ä¼šè­°ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
 */
function highlightMeetingInGantt(meetingId) {
    // æ—¢å­˜ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’ã‚¯ãƒªã‚¢
    document.querySelectorAll('.gantt .bar.highlighted').forEach(bar => {
        bar.classList.remove('highlighted');
    });
    
    // è©²å½“ä¼šè­°ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
    const targetBar = document.querySelector(`.gantt .bar[data-id="${meetingId}"]`);
    if (targetBar) {
        targetBar.classList.add('highlighted');
        targetBar.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
}
```

### **Phase 4: ãƒ¡ã‚¤ãƒ³åˆ¶å¾¡çµ±åˆå‡¦ç†**

#### **ãƒ•ã‚¡ã‚¤ãƒ«**: `js/main.js` - `renderGanttChart`é–¢æ•°æ›´æ–°
```javascript
/**
 * ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆæç”»ï¼ˆPhase-1A-2 çµ±åˆç‰ˆï¼‰
 */
function renderGanttChart(data) {
    console.log('Phase-1A-2: çµ±åˆã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆæç”»é–‹å§‹');
    
    try {
        // ãƒ‡ãƒ¼ã‚¿åˆ†é›¢ï¼šä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆã¨å·¥äº‹ã‚¤ãƒ™ãƒ³ãƒˆ
        const meetingEvents = data.filter(item => 
            item.organization_level || 
            item.organization_type ||
            GanttManager.isMeetingEvent(item)
        );
        const workEvents = data.filter(item => 
            !item.organization_level && 
            !item.organization_type &&
            !GanttManager.isMeetingEvent(item)
        );
        
        console.log(`ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆ: ${meetingEvents.length}ä»¶`);
        console.log(`å·¥äº‹ã‚¤ãƒ™ãƒ³ãƒˆ: ${workEvents.length}ä»¶`);
        
        // ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆæ§‹é€ åŒ–ï¼ˆPhase-1A-2 ã‚­ãƒ¼å‡¦ç†ï¼‰
        const structuredMeetings = GanttManager.structureMeetingEvents(meetingEvents);
        
        // éšå±¤é–¢ä¿‚ç”Ÿæˆ
        const hierarchyConnections = GanttManager.generateHierarchyConnections(structuredMeetings);
        
        // å·¦ãƒ‘ãƒãƒ«éšå±¤è¡¨ç¤ºæ›´æ–°ï¼ˆPhase-1A-2 ã‚­ãƒ¼æ©Ÿèƒ½ï¼‰
        updateLeftPanelWithHierarchy(structuredMeetings, workEvents);
        
        // ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿çµ±åˆ
        const combinedData = [
            ...Object.values(structuredMeetings).flat(),
            ...workEvents
        ];
        
        // ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹é©ç”¨
        combinedData.forEach(item => {
            if (item.organization_level) {
                item.custom_class = `${item.custom_class || ''} level-${item.organization_level}`.trim();
            }
        });
        
        console.log(`çµ±åˆãƒ‡ãƒ¼ã‚¿: ${combinedData.length}ä»¶`);
        
        // Frappe Ganttæç”»ãƒ»æ›´æ–°
        if (ganttChart) {
            ganttChart.refresh(combinedData);
        } else {
            ganttChart = new Gantt('#gantt', combinedData, {
                view_mode: currentViewMode,
                date_format: 'YYYY-MM-DD',
                popup_trigger: 'click',
                view_modes: ['Day', 'Week', 'Month', 'Year'],
                bar_height: 20,
                bar_corner_radius: 3,
                arrow_curve: 5,
                padding: 18,
                custom_popup_html: function(task) {
                    return generateCustomPopup(task, hierarchyConnections);
                }
            });
        }
        
        // CSSé©ç”¨å¾Œã®å¾Œå‡¦ç†
        setTimeout(() => {
            applyHierarchyStyles();
            updateDataCount(combinedData.length);
        }, 100);
        
        console.log('Phase-1A-2: çµ±åˆã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆæç”»å®Œäº†');
        
    } catch (error) {
        ErrorHandler.handleError('Phase-1A-2çµ±åˆã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆæç”»ã‚¨ãƒ©ãƒ¼', error);
    }
}

/**
 * éšå±¤ã‚¹ã‚¿ã‚¤ãƒ«å¾Œé©ç”¨
 */
function applyHierarchyStyles() {
    document.querySelectorAll('.gantt .bar').forEach(bar => {
        const taskId = bar.getAttribute('data-id');
        const task = projectData.find(t => t.id === taskId);
        
        if (task && task.organization_level) {
            bar.classList.add(`level-${task.organization_level}`);
            bar.setAttribute('data-authority', task.decision_authority || 'unknown');
        }
    });
}

/**
 * ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”Ÿæˆ
 */
function generateCustomPopup(task, connections) {
    let popupHtml = `<div class="popup-title">${task.name}</div>`;
    popupHtml += `<div class="popup-content">`;
    popupHtml += `<p><strong>æœŸé–“:</strong> ${task.start} ã€œ ${task.end}</p>`;
    
    if (task.organization_level) {
        const levelNames = { 1: 'ç·ä¼š', 2: 'ç†äº‹ä¼š', 3: 'ä¿®ç¹•å§”å“¡ä¼š' };
        popupHtml += `<p><strong>çµ„ç¹”:</strong> ${levelNames[task.organization_level]}</p>`;
        popupHtml += `<p><strong>æ¨©é™:</strong> ${task.decision_authority_jp || task.decision_authority}</p>`;
        
        if (task.report_to) {
            popupHtml += `<p><strong>å ±å‘Šå…ˆ:</strong> ${task.report_to}</p>`;
        }
        
        if (task.frequency) {
            const freqNames = { annual: 'å¹´æ¬¡', monthly: 'æœˆæ¬¡', adhoc: 'è‡¨æ™‚' };
            popupHtml += `<p><strong>é »åº¦:</strong> ${freqNames[task.frequency] || task.frequency}</p>`;
        }
    } else {
        popupHtml += `<p><strong>é€²æ—:</strong> ${task.progress}%</p>`;
    }
    
    popupHtml += `</div>`;
    return popupHtml;
}
```

---

## **ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼æ‰‹é †**

### **ãƒ†ã‚¹ãƒˆæ®µéš1: ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ç¢ºèª**
1. `meeting_events_mock.csv`ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿
2. çµ„ç¹”ãƒ¬ãƒ™ãƒ«åˆ¥ãƒ‡ãƒ¼ã‚¿åˆ†é¡ç¢ºèª
3. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã§ã®çµ±è¨ˆæƒ…å ±ç¢ºèª

### **ãƒ†ã‚¹ãƒˆæ®µéš2: è¡¨ç¤ºç¢ºèª**
1. å·¦ãƒ‘ãƒãƒ«éšå±¤è¡¨ç¤ºã®è¦–è¦šç¢ºèª
2. ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆè‰²åˆ†ã‘ç¢ºèª  
3. ã‚¢ã‚¤ã‚³ãƒ³ãƒ»æ¨©é™è¡¨ç¤ºç¢ºèª

### **ãƒ†ã‚¹ãƒˆæ®µéš3: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ç¢ºèª**
1. å·¦ãƒ‘ãƒãƒ«ä¼šè­°ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚¬ãƒ³ãƒˆãƒã‚¤ãƒ©ã‚¤ãƒˆ
2. è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ã§ã®éšå±¤è¡¨ç¤ºç¶­æŒ
3. ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¡¨ç¤ºå†…å®¹ç¢ºèª

---

## **ğŸ“ å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**

### **CSSå®Ÿè£…**
- [ ] `css/gantt.css`ã«çµ„ç¹”ãƒ¬ãƒ™ãƒ«åˆ¥ã‚¹ã‚¿ã‚¤ãƒ«è¿½åŠ 
- [ ] å·¦ãƒ‘ãƒãƒ«éšå±¤è¡¨ç¤ºCSSè¿½åŠ 
- [ ] æ¨©é™åˆ¥å¢ƒç•Œç·šã‚¹ã‚¿ã‚¤ãƒ«è¿½åŠ 
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œç¢ºèª

### **JavaScriptå®Ÿè£…**  
- [ ] `js/gantt-manager.js`ã«æ§‹é€ åŒ–å‡¦ç†é–¢æ•°è¿½åŠ 
- [ ] `js/main.js`ã«å·¦ãƒ‘ãƒãƒ«éšå±¤è¡¨ç¤ºæ©Ÿèƒ½è¿½åŠ 
- [ ] `renderGanttChart`é–¢æ•°ã®çµ±åˆå‡¦ç†æ›´æ–°
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…

### **ãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼**
- [ ] `meeting_events_mock.csv`ã§ã®å‹•ä½œç¢ºèª
- [ ] 3ãƒ¬ãƒ™ãƒ«éšå±¤è¡¨ç¤ºç¢ºèª
- [ ] è‰²åˆ†ã‘ãƒ»ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤ºç¢ºèª
- [ ] ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³å‹•ä½œç¢ºèª
- [ ] è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ã§ã®å‹•ä½œç¢ºèª

---

## **ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**

### **Phase-1A-2å®Œäº†å¾Œã®å±•é–‹**
1. **ä¾å­˜é–¢ä¿‚çŸ¢å°è¡¨ç¤º**: Frappe Ganttãƒãƒ¼ã‚¸ãƒ§ãƒ³å•é¡Œè§£æ±ºå¾Œã«å®Ÿè£…
2. **Phase-1A-3**: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
3. **Phase-1B**: ç·¨é›†æ©Ÿèƒ½ãƒ»ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›æ©Ÿèƒ½

### **æ‹¡å¼µæ©Ÿèƒ½å€™è£œ**
- ä¼šè­°è­°äº‹éŒ²é€£æºæ©Ÿèƒ½
- æ¨©é™åˆ¥ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- ä¼šè­°ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è‡ªå‹•ææ¡ˆæ©Ÿèƒ½

---

## **ğŸ’¾ Gitã‚³ãƒŸãƒƒãƒˆäºˆå®š**

### **ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**
```
feat: Phase-1A-2å®Œäº† - ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆæ§‹é€ åŒ–è¡¨ç¤ºå®Ÿè£…

- çµ„ç¹”éšå±¤è¡¨ç¤ºï¼ˆç·ä¼šãƒ»ç†äº‹ä¼šãƒ»ä¿®ç¹•å§”å“¡ä¼šï¼‰
- ãƒ¬ãƒ™ãƒ«åˆ¥è‰²åˆ†ã‘ãƒ»æ¨©é™è¡¨ç¤ºæ©Ÿèƒ½
- å·¦ãƒ‘ãƒãƒ«éšå±¤UIãƒ»ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆçµ±åˆè¡¨ç¤º
- éšå±¤é–¢ä¿‚å¯è¦–åŒ–ãƒ»ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
- meeting_events_mock.csvãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿å¯¾å¿œ

ğŸ¯ This is the KEY FEATURE for the entire project
```

### **ã‚¿ã‚°ä»˜ã‘äºˆå®š**
- `v0.2.0-phase1a2`: Phase-1A-2å®Œäº†ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

---

ã“ã®Phase-1A-2ã®ä¼šè­°ã‚¤ãƒ™ãƒ³ãƒˆæ§‹é€ åŒ–è¡¨ç¤ºå®Ÿè£…ã«ã‚ˆã‚Šã€ãƒãƒ³ã‚·ãƒ§ãƒ³ä¿®ç¹•è¨ˆç”»ã‚¢ãƒ—ãƒªã®æ ¸å¿ƒæ©Ÿèƒ½ãŒå®Œæˆã—ã€å¾Œç¶šé–‹ç™ºã®æŠ€è¡“åŸºç›¤ãŒç¢ºç«‹ã•ã‚Œã‚‹ã€‚